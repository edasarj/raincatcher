{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <!-- [ Main Content ] start -->
    <div class="pcoded-main-container">
        <div class="pcoded-wrapper">

            <div class="pcoded-content">
                <div class="pcoded-inner-content">
                    <!-- [ breadcrumb ] start -->

                    <!-- [ breadcrumb ] end -->
                    <div class="main-body">
                        <div class="page-wrapper">
                            <!-- [ Main Content ] start -->
                            <div class="row">
                                <!--[ daily sales section ] start-->
                                <div class="col-md-6 col-xl-4">
                                    <div class="card daily-sales">
                                        <div class="card-block">
                                            <h6 class="mb-4"><i class="feather icon-thermometer text-c-red f-30 m-r-10"></i>Temperature Today</h6>
											
                                            <div class="row d-flex align-items-center">
                                                <div class="col-9">
                                                    <h3 class="f-w-300 d-flex align-items-center m-b-0">
													Max Temp: {{tmax}}℃ </h3>
                                                </div>
                                                <div class="col-9">
                                                    <h3 class="f-w-300 d-flex align-items-center m-b-0">
													Min Temp:{{tmin}}℃ </h3>
                                                </div>

                                            </div>
 
                                        </div>
                                    </div>
                                </div>
                                <!--[ daily sales section ] end-->
                                <!--[ Monthly  sales section ] starts-->
                                <div class="col-md-6 col-xl-4">
                                    <div class="card Monthly-sales">
                                        <div class="card-block">
                                            <h6 class="mb-4"><i
                                                            class="feather icon-cloud-snow text-c-green f-30 m-r-10"></i>Weather Forecast Today (IMD weather station 42809)</h6>
                                            <div class="row d-flex align-items-center">
                                                <div class="col-9">
                                                    <h3 class="f-w-200 d-flex align-items-center  m-b-0">{{forecast|slice:"1:-1"}}</h3>
                                                </div>
												
                                                <!--div class="col-3 text-right">
                                                    <p class="m-b-0">36%</p>
                                                </div>
                                            </div>
                                            <div class="progress m-t-30" style="height: 7px;">
                                                <div class="progress-bar progress-c-theme2" role="progressbar"
                                                        style="width: 35%;" aria-valuenow="35" aria-valuemin="0"
                                                        aria-valuemax="100"></div-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--[ Monthly  sales section ] end-->
                                <!--[ year  sales section ] starts-->
                                <div class="col-md-12 col-xl-4">
                                    <div class="card yearly-sales">
                                        <div class="card-block">
                                            <h6 class="mb-4"><i
                                                            class="feather icon-moon text-c-yellow f-30 m-r-10"></i>Tides(Calcutta-Garden-Reach-India)</h6>
                                            <div class="row d-flex align-items-center">
                                                <div class="col-9">
                                                                                                         <table class="table">
 <thead>
  <tr>
    <th>Tide</th>
    <th>Time & Date</th>
    <th>Height</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td>High Tide</td>
    <td>{{hightideday|slice:"1:-1"}}</td>
    <td>{{hightidedayheight|slice:"1:-1"}}</td>
  </tr>
  <tr>
    <td>Low Tide</td>
    <td>{{lowtideday|slice:"1:-1"}}</td>
    <td>{{lowtidedayheight|slice:"1:-1"}}</td>
  </tr>
  <tr>
    <td>High Tide</td>
    <td>{{hightidenight|slice:"1:-1"}}</td>
    <td>{{hightidenightheight|slice:"1:-1"}}</td>
  </tr>
  <tr>
    <td>High Tide</td>
    <td>{{hightidenight|slice:"1:-1"}}</td>
    <td>{{hightidenightheight|slice:"1:-1"}}</td>
  </tr>
  </tbody>
</table>  
                                                </div>
                                                
                                            </div>
                                            <!--div class="progress m-t-30" style="height: 7px;">
                                                <div class="progress-bar progress-c-theme" role="progressbar"
                                                        style="width: 70%;" aria-valuenow="70" aria-valuemin="0"
                                                        aria-valuemax="100"></div>
                                            </div-->
                                        </div>
                                    </div>
                                </div>
                                <!--[ year  sales section ] end-->
                                <!--[ Recent Users ] start-->
                                <div class="col-xl-8 col-md-6">
                                    <div class="card Recent-Users">
                                        <div class="card-header">
                                            <h5>Water Logging Simulation as today's Weather Forecast</h5>
                                        </div>
										<div class="container">
                                              {{ map|safe }}
                                        </div>
                                        <!--div class="card-block px-0 py-3">
                                            <div class="table-responsive">
                                                <table class="table table-hover">
                                                    <tbody>
                                                    <tr class="unread">
                                                        <td><i class="feather icon-cpu text-c-green f-30 m-r-10">
                                                        </td>
                                                        <td>
                                                            <h6 class="mb-1">Sensor One</h6>
                                                            <p class="m-0">Check for Sensor 1</p>
                                                        </td>
                                                        <td>
                                                            <h6 class="text-muted"><i
                                                                    class="fas fa-circle text-c-green f-10 m-r-15"></i>11
                                                                Dec 12:56</h6>
                                                        </td>
                                                        <td><a href="#!"
                                                                class="label theme-bg2 text-white f-12">Cancel</a><a
                                                                href="#!" class="label theme-bg text-white f-12">Check</a>
                                                        </td>
                                                    </tr>
                                                    <tr class="unread">
                                                        <td><i class="feather icon-cpu text-c-green f-30 m-r-10">
                                                        </td>
                                                        <td>
                                                            <h6 class="mb-1">Sensor Two</h6>
                                                            <p class="m-0">Check for Sensor 2</p>
                                                        </td>
                                                        <td>
                                                            <h6 class="text-muted"><i
                                                                    class="fas fa-circle text-c-red f-10 m-r-15"></i>11 Dec
                                                                10:35</h6>
                                                        </td>
                                                        <td><a href="#!"
                                                                class="label theme-bg2 text-white f-12">Cancel</a><a
                                                                href="#!" class="label theme-bg text-white f-12">Check</a>
                                                        </td>
                                                    </tr>
                                                    <!--tr class="unread">
                                                        <td><img class="rounded-circle" style="width:40px;"
                                                                    src="{{ ASSETS_ROOT }}/images/user/avatar-3.jpg" alt="activity-user">
                                                        </td>
                                                        <td>
                                                            <h6 class="mb-1">Karla Sorensen</h6>
                                                            <p class="m-0">Lorem Ipsum is simply…</p>
                                                        </td>
                                                        <td>
                                                            <h6 class="text-muted"><i
                                                                    class="fas fa-circle text-c-green f-10 m-r-15"></i>9 MAY
                                                                17:38</h6>
                                                        </td>
                                                        <td><a href="#!"
                                                                class="label theme-bg2 text-white f-12">Reject</a><a
                                                                href="#!" class="label theme-bg text-white f-12">Approve</a>
                                                        </td>
                                                    </tr>
                                                    <tr class="unread">
                                                        <td><img class="rounded-circle" style="width:40px;"
                                                                    src="{{ ASSETS_ROOT }}/images/user/avatar-1.jpg" alt="activity-user">
                                                        </td>
                                                        <td>
                                                            <h6 class="mb-1">Ida Jorgensen</h6>
                                                            <p class="m-0">Lorem Ipsum is simply text of…</p>
                                                        </td>
                                                        <td>
                                                            <h6 class="text-muted f-w-300"><i
                                                                    class="fas fa-circle text-c-red f-10 m-r-15"></i>19 MAY
                                                                12:56</h6>
                                                        </td>
                                                        <td><a href="#!"
                                                                class="label theme-bg2 text-white f-12">Reject</a><a
                                                                href="#!" class="label theme-bg text-white f-12">Approve</a>
                                                        </td>
                                                    </tr>
                                                    <tr class="unread">
                                                        <td><img class="rounded-circle" style="width:40px;"
                                                                    src="{{ ASSETS_ROOT }}/images/user/avatar-2.jpg" alt="activity-user">
                                                        </td>
                                                        <td>
                                                            <h6 class="mb-1">Albert Andersen</h6>
                                                            <p class="m-0">Lorem Ipsum is simply dummy…</p>
                                                        </td>
                                                        <td>
                                                            <h6 class="text-muted"><i
                                                                    class="fas fa-circle text-c-green f-10 m-r-15"></i>21
                                                                July 12:56</h6>
                                                        </td>
                                                        <td><a href="#!"
                                                                class="label theme-bg2 text-white f-12">Reject</a><a
                                                                href="#!" class="label theme-bg text-white f-12">Approve</a>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div-->
                                    </div>
                                </div>
                                <!--[ Recent Users ] end-->

                                <!-- [ statistics year chart ] start -->
                                <!--div class="col-xl-4 col-md-6">
                                    <div class="card card-event">
                                        <div class="card-block">
                                            <div class="row align-items-center justify-content-center">
                                                <div class="col">
                                                    <h5 class="m-0">Upcoming Event</h5>
                                                </div>
                                                <div class="col-auto">
                                                    <label class="label theme-bg2 text-white f-14 f-w-400 float-right">34%</label>
                                                </div>
                                            </div>
                                            <h2 class="mt-3 f-w-300">45<sub class="text-muted f-14">Competitors</sub></h2>
                                            <h6 class="text-muted mt-4 mb-0">You can participate in event </h6>
                                            <i class="fab fa-angellist text-c-purple f-50"></i>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-block border-bottom">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-auto">
                                                    <i class="feather icon-zap f-30 text-c-green"></i>
                                                </div>
                                                <div class="col">
                                                    <h3 class="f-w-300">235</h3>
                                                    <span class="d-block text-uppercase">TOTAL IDEAS</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-block">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-auto">
                                                    <i class="feather icon-map-pin f-30 text-c-blue"></i>
                                                </div>
                                                <div class="col">
                                                    <h3 class="f-w-300">26</h3>
                                                    <span class="d-block text-uppercase">TOTAL LOCATIONS</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div-->
                                <!-- [ statistics year chart ] end -->
                                <!--[social-media section] start-->
                                <!--div class="col-md-12 col-xl-4">
                                    <div class="card card-social">
                                        <div class="card-block border-bottom">
                                            <div class="row align-items-center justify-content-center">
                                                <div class="col-auto">
                                                    <i class="fab fa-facebook-f text-primary f-36"></i>
                                                </div>
                                                <div class="col text-right">
                                                    <h3>12,281</h3>
                                                    <h5 class="text-c-green mb-0">+7.2% <span
                                                            class="text-muted">Total Likes</span></h5>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-block">
                                            <div class="row align-items-center justify-content-center card-active">
                                                <div class="col-6">
                                                    <h6 class="text-center m-b-10"><span
                                                            class="text-muted m-r-5">Target:</span>35,098</h6>
                                                    <div class="progress">
                                                        <div class="progress-bar progress-c-theme" role="progressbar"
                                                                style="width:60%;height:6px;" aria-valuenow="60"
                                                                aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <h6 class="text-center  m-b-10"><span
                                                            class="text-muted m-r-5">Duration:</span>3,539</h6>
                                                    <div class="progress">
                                                        <div class="progress-bar progress-c-theme2" role="progressbar"
                                                                style="width:45%;height:6px;" aria-valuenow="45"
                                                                aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xl-4">
                                    <div class="card card-social">
                                        <div class="card-block border-bottom">
                                            <div class="row align-items-center justify-content-center">
                                                <div class="col-auto">
                                                    <i class="fab fa-twitter text-c-blue f-36"></i>
                                                </div>
                                                <div class="col text-right">
                                                    <h3>11,200</h3>
                                                    <h5 class="text-c-purple mb-0">+6.2% <span class="text-muted">Total Likes</span>
                                                    </h5>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-block">
                                            <div class="row align-items-center justify-content-center card-active">
                                                <div class="col-6">
                                                    <h6 class="text-center m-b-10"><span
                                                            class="text-muted m-r-5">Target:</span>34,185</h6>
                                                    <div class="progress">
                                                        <div class="progress-bar progress-c-green" role="progressbar"
                                                                style="width:40%;height:6px;" aria-valuenow="40"
                                                                aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <h6 class="text-center  m-b-10"><span
                                                            class="text-muted m-r-5">Duration:</span>4,567</h6>
                                                    <div class="progress">
                                                        <div class="progress-bar progress-c-blue" role="progressbar"
                                                                style="width:70%;height:6px;" aria-valuenow="70"
                                                                aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div-->
                                <div class="col-md-6 col-xl-4">
                                    <div class="card card-social">
                                        <div class="card-block border-bottom">
                                            <div class="row align-items-center justify-content-center">
                                                <div class="col-auto">
                                                    <h5>Realtime Flow map from IOT sensors</h5>
                                                </div>
												<div class="container" id="map" style="width: 75vw; height: 55vh">
												</div>
                                                <!--div class="container">
                                                       {{ map2|safe }}
                                                   </div-->
												   <!--div class="card-block" id="map"style="width: 75vw; height: 100vh"-->
                                            </div>
                                        </div>
                                        <!--div class="card-block">
                                            <div class="row align-items-center justify-content-center card-active">
                                                <div class="col-6">
                                                    <h6 class="text-center m-b-10"><span
                                                            class="text-muted m-r-5">Target:</span>25,998</h6>
                                                    <div class="progress">
                                                        <div class="progress-bar progress-c-theme" role="progressbar"
                                                                style="width:80%;height:6px;" aria-valuenow="80"
                                                                aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <h6 class="text-center  m-b-10"><span
                                                            class="text-muted m-r-5">Duration:</span>7,753</h6>
                                                    <div class="progress">
                                                        <div class="progress-bar progress-c-theme2" role="progressbar"
                                                                style="width:50%;height:6px;" aria-valuenow="50"
                                                                aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div-->
                                    </div>
                                </div>
								
								
								<div class="col-xl-8 col-md-6">
                                    <div class="card Recent-Users">
                                        <div class="card-header">
                                            <h5>Water Logging Simulation as today's Weather Forecast</h5>
                                        </div>
										<div class="container">
                                              {{ map2|safe }}
                                        </div>
								    </div>
								</div>
								
                                <!--[social-media section] end-->
                                <!-- [ rating list ] starts-->
                                <!--div class="col-xl-4 col-md-6">
                                    <div class="card user-list">
                                        <div class="card-header">
                                            <h5>Rating</h5>
                                        </div>
                                        <div class="card-block">
                                            <div class="row align-items-center justify-content-center m-b-20">
                                                <div class="col-6">
                                                    <h2 class="f-w-300 d-flex align-items-center float-left m-0">4.7 <i
                                                            class="fas fa-star f-10 m-l-10 text-c-yellow"></i></h2>
                                                </div>
                                                <div class="col-6">
                                                    <h6 class="d-flex  align-items-center float-right m-0">0.4 <i
                                                            class="fas fa-caret-up text-c-green f-22 m-l-10"></i></h6>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xl-12">
                                                    <h6 class="align-items-center float-left"><i
                                                            class="fas fa-star f-10 m-r-10 text-c-yellow"></i>5</h6>
                                                    <h6 class="align-items-center float-right">384</h6>
                                                    <div class="progress m-t-30 m-b-20" style="height: 6px;">
                                                        <div class="progress-bar progress-c-theme" role="progressbar"
                                                                style="width: 70%;" aria-valuenow="70" aria-valuemin="0"
                                                                aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-xl-12">
                                                    <h6 class="align-items-center float-left"><i
                                                            class="fas fa-star f-10 m-r-10 text-c-yellow"></i>4</h6>
                                                    <h6 class="align-items-center float-right">145</h6>
                                                    <div class="progress m-t-30  m-b-20" style="height: 6px;">
                                                        <div class="progress-bar progress-c-theme" role="progressbar"
                                                                style="width: 35%;" aria-valuenow="35" aria-valuemin="0"
                                                                aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-xl-12">
                                                    <h6 class="align-items-center float-left"><i
                                                            class="fas fa-star f-10 m-r-10 text-c-yellow"></i>3</h6>
                                                    <h6 class="align-items-center float-right">24</h6>
                                                    <div class="progress m-t-30  m-b-20" style="height: 6px;">
                                                        <div class="progress-bar progress-c-theme" role="progressbar"
                                                                style="width: 25%;" aria-valuenow="25" aria-valuemin="0"
                                                                aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-xl-12">
                                                    <h6 class="align-items-center float-left"><i
                                                            class="fas fa-star f-10 m-r-10 text-c-yellow"></i>2</h6>
                                                    <h6 class="align-items-center float-right">1</h6>
                                                    <div class="progress m-t-30  m-b-20" style="height: 6px;">
                                                        <div class="progress-bar progress-c-theme" role="progressbar"
                                                                style="width: 10%;" aria-valuenow="10" aria-valuemin="0"
                                                                aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-xl-12">
                                                    <h6 class="align-items-center float-left"><i
                                                            class="fas fa-star f-10 m-r-10 text-c-yellow"></i>1</h6>
                                                    <h6 class="align-items-center float-right">0</h6>
                                                    <div class="progress m-t-30  m-b-20" style="height: 6px;">
                                                        <div class="progress-bar" role="progressbar" style="width:0;"
                                                                aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div-->
                                <!-- [ rating list ] end-->
                                <div class="col-xl-8 col-md-12 m-b-30">
                                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                                        <!--li class="nav-item">
                                            <a class="nav-link" id="home-tab" data-toggle="tab" href="#home" role="tab"
                                                aria-controls="home" aria-selected="false">Forecast this week</a>
                                        </li-->
                                        <li class="nav-item">
                                            <a class="nav-link active show" id="profile-tab" data-toggle="tab"
                                                href="#profile" role="tab" aria-controls="profile" aria-selected="true"> Forecast This
                                                Week (IMD data for station number 42809) </a>
                                        </li>
                                        <!--li class="nav-item">
                                            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact"
                                                role="tab" aria-controls="contact" aria-selected="false">All</a>
                                        </li-->
                                    </ul>
                                    <div class="tab-content" id="myTabContent">
                                        <div class="tab-pane fade" id="home" role="tabpanel" aria-labelledby="home-tab">
                                            <table class="table table-hover">
                                                <thead>
                                                <tr>
                                                    <th>Day</th>
                                                    <th>Remarks</th>
                                                    <!--th>Time</th>
                                                    <th>Status</th-->
                                                    <th class="text-right"></th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td>
                                                        <h6 class="m-0">{{day1}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark1}}</h6>
                                                    </td>
                                                    
                                                </tr>

                                                <tr>
                                                     <td>
                                                        <h6 class="m-0">{{day2}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark2}}</h6>
                                                    </td>

                                                </tr>

                                                <tr>
                                                     <td>
                                                        <h6 class="m-0">{{day3}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark3}}</h6>
                                                    </td>

                                                </tr>
                                                <tr>
                                                         <td>
                                                        <h6 class="m-0">{{day3}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark3}}</h6>
                                                    </td>
													
                                                </tr>
                                                </tbody>
                                            </table>

                                        </div>
                                        <div class="tab-pane fade active show" id="profile" role="tabpanel"
                                                aria-labelledby="profile-tab">
                                            <table class="table table-hover">
                                                <thead>
                                                <tr>
                                                    <th>Day</th>
                                                    <th>Remarks</th>
                                                    <!--th>Time</th>
                                                    <th>Status</th-->
                                                    <th class="text-right"></th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                              <tr>
                                                    <td>
                                                        <h6 class="m-0">{{day1|slice:"1:-1"}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark1|slice:"1:-1"}}</h6>
                                                    </td>
                                                    
                                                </tr>

                                                <tr>
                                                     <td>
                                                        <h6 class="m-0">{{day2|slice:"1:-1"}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark2|slice:"1:-1"}}</h6>
                                                    </td>

                                                </tr>

                                                <tr>
                                                     <td>
                                                        <h6 class="m-0">{{day3|slice:"1:-1"}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark3|slice:"1:-1"}}</h6>
                                                    </td>

                                                </tr>
                                                <tr>
                                                         <td>
                                                        <h6 class="m-0">{{day4|slice:"1:-1"}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark4|slice:"1:-1"}}</h6>
                                                    </td>
													
                                                </tr>
                                               <tr>
                                               <td>
                                                        <h6 class="m-0">{{day5|slice:"1:-1"}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark5|slice:"1:-1"}}</h6>
                                                    </td>
													
                                                </tr>	
                                               <tr>
                                               <td>
                                                        <h6 class="m-0">{{day6|slice:"1:-1"}}</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">{{remark6|slice:"1:-1"}}</h6>
                                                    </td>
													
                                                </tr>	

												
                                                </tbody>
                                            </table>

                                        </div>
                                        <!--div class="tab-pane fade" id="contact" role="tabpanel"
                                                aria-labelledby="contact-tab">
                                            <table class="table table-hover">
                                                <thead>
                                                <tr>
                                                    <th>User</th>
                                                    <th>Activity</th>
                                                    <th>Time</th>
                                                    <th>Status</th>
                                                    <th class="text-right"></th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td>
                                                        <h6 class="m-0"><img class="rounded-circle  m-r-10"
                                                                                style="width:40px;"
                                                                                src="{{ ASSETS_ROOT }}/images/user/avatar-3.jpg"
                                                                                alt="activity-user">Silje Larsen</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">Dog the quick brown</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">10:23 AM</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0 text-c-purple">Delayed</h6>
                                                    </td>
                                                    <td class="text-right"><i class="fas fa-circle text-c-purple f-10"></i>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <h6 class="m-0"><img class="rounded-circle m-r-10"
                                                                                style="width:40px;"
                                                                                src="{{ ASSETS_ROOT }}/images/user/avatar-1.jpg"
                                                                                alt="activity-user">Ida Jorgensen</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">The quick brown fox</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">3:28 PM</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0 text-c-green">Done</h6>
                                                    </td>
                                                    <td class="text-right"><i class="fas fa-circle text-c-green f-10"></i>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <h6 class="m-0"><img class="rounded-circle  m-r-10"
                                                                                style="width:40px;"
                                                                                src="{{ ASSETS_ROOT }}/images/user/avatar-2.jpg"
                                                                                alt="activity-user">Albert Andersen</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">Jumps over the lazy</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">2:37 PM</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0 text-c-red">Missed</h6>
                                                    </td>
                                                    <td class="text-right"><i class="fas fa-circle text-c-red f-10"></i>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <h6 class="m-0"><img class="rounded-circle  m-r-10"
                                                                                style="width:40px;"
                                                                                src="{{ ASSETS_ROOT }}/images/user/avatar-1.jpg"
                                                                                alt="activity-user">Ida Jorgensen</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">The quick brown fox</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0">4:28 PM</h6>
                                                    </td>
                                                    <td>
                                                        <h6 class="m-0 text-c-green">Done</h6>
                                                    </td>
                                                    <td class="text-right"><i class="fas fa-circle text-c-green f-10"></i>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div-->
                                    </div>
                                </div>

                            </div>
                            <!-- [ Main Content ] end -->
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- [ Main Content ] end -->            

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
   <script src="https://unpkg.com/deck.gl@^8.5.0/dist.min.js"></script>
    <script src="https://unpkg.com/@deck.gl/carto@^8.5.0/dist.min.js"></script>

    <script src="https://libs.cartocdn.com/mapbox-gl/v1.13.0/mapbox-gl.js"></script>
<script type="text/javascript">
    const LOOP_LENGTH = 1800;
    const ANIMATION_SPEED = 0.4;

    async function initialize() {
      deck.carto.setDefaultCredentials({
        username: 'public',
        apiKey: 'default_public',
      });

      // Fetch Data from CARTO
 //     const query = 'SELECT the_geom, vendor, timestamps FROM new_york_trips';
 //     const url = `https://public.carto.com/api/v2/sql?q=${query}&format=geojson`;
 //     const geojsonData = await fetch(url).then(response => response.json());
//        const geojsonData = {
// "type": "FeatureCollection", "features": [{'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455031, 22.576458], [88.455184, 22.576467]]]}, 'properties': {'vendor': 0, 'timestamps': [1191,1193.803]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455184, 22.576467], [88.455342, 22.576467]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455342, 22.576467], [88.455461, 22.576458]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455461, 22.576458], [88.45562, 22.576445]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.45562, 22.576445], [88.455745, 22.576437]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455745, 22.576437], [88.455898, 22.576445]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455898, 22.576445], [88.456034, 22.576444]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456034, 22.576444], [88.456213, 22.576438]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456213, 22.576438], [88.456373, 22.576427]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456373, 22.576427], [88.456552, 22.576419]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456552, 22.576419], [88.45655, 22.576481]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.45655, 22.576481], [88.456562, 22.576592]]]}, 'properties': {'vendor': 0, 'timestamps': [1482206922760.0, 1482206922770.0]}}
// "type": "FeatureCollection", "features": [{'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455031, 22.576458], [88.455184, 22.576467]]]}, 'properties': {'vendor': 0, 'timestamps': [54.47802734375, 1054.47802734375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455184, 22.576467], [88.455342, 22.576467]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455342, 22.576467], [88.455461, 22.576458]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455461, 22.576458], [88.45562, 22.576445]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.45562, 22.576445], [88.455745, 22.576437]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455745, 22.576437], [88.455898, 22.576445]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455898, 22.576445], [88.456034, 22.576444]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456034, 22.576444], [88.456213, 22.576438]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456213, 22.576438], [88.456373, 22.576427]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456373, 22.576427], [88.456552, 22.576419]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456552, 22.576419], [88.45655, 22.576481]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.45655, 22.576481], [88.456562, 22.576592]]]}, 'properties': {'vendor': 0, 'timestamps': [55.43896484375, 1055.43896484375]}}	
	
//	]}
//const geojsonData={"type": "FeatureCollection", "features": [{'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455031, 22.576458], [88.455184, 22.576467]]]}, 'properties': {'vendor': 0, 'timestamps': [125.682861328125, 225.68310546875]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455184, 22.576467], [88.455342, 22.576467]]]}, 'properties': {'vendor': 0, 'timestamps': [236.35888671875, 336.359130859375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455342, 22.576467], [88.455461, 22.576458]]]}, 'properties': {'vendor': 0, 'timestamps': [346.987060546875, 446.98681640625]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455461, 22.576458], [88.45562, 22.576445]]]}, 'properties': {'vendor': 2, 'timestamps': [457.48681640625, 757.48681640625]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.45562, 22.576445], [88.455745, 22.576437]]]}, 'properties': {'vendor': 2, 'timestamps': [568.19287109375, 868.19287109375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455745, 22.576437], [88.455898, 22.576445]]]}, 'properties': {'vendor': 1, 'timestamps': [678.93798828125, 878.93798828125]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.455898, 22.576445], [88.456034, 22.576444]]]}, 'properties': {'vendor': 1, 'timestamps': [789.39990234375, 989.39990234375]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456034, 22.576444], [88.456213, 22.576438]]]}, 'properties': {'vendor': 1, 'timestamps': [899.634765625, 1099.635009765625]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456213, 22.576438], [88.456373, 22.576427]]]}, 'properties': {'vendor': 2, 'timestamps': [1010.1259765625, 1310.125732421875]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456373, 22.576427], [88.456552, 22.576419]]]}, 'properties': {'vendor': 1, 'timestamps': [1120.9140625, 1320.9140625]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.456552, 22.576419], [88.45655, 22.576481]]]}, 'properties': {'vendor': 1, 'timestamps': [1231.446044921875, 1431.44580078125]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.45655, 22.576481], [88.456562, 22.576592]]]}, 'properties': {'vendor': 1, 'timestamps': [1341.660888671875, 1541.6611328125]}}]}
const geojsonData={"type": "FeatureCollection", "features": [{'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.504871, 22.556859], [88.50493, 22.556998]]]}, 'properties': {'vendor': 0, 'timestamps': [0.0, 100.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.50493, 22.556998], [88.5057, 22.556758]]]}, 'properties': {'vendor': 0, 'timestamps': [10.0, 110.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.5057, 22.556758], [88.50645, 22.556791]]]}, 'properties': {'vendor': 0, 'timestamps': [20.0, 120.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.50645, 22.556791], [88.506376, 22.55658]]]}, 'properties': {'vendor': 0, 'timestamps': [30.0, 130.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.506376, 22.55658], [88.506536, 22.557376]]]}, 'properties': {'vendor': 0, 'timestamps': [40.0, 140.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.506536, 22.557376], [88.506756, 22.557931]]]}, 'properties': {'vendor': 0, 'timestamps': [50.0, 150.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.506756, 22.557931], [88.506944, 22.558422]]]}, 'properties': {'vendor': 0, 'timestamps': [60.0, 160.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.506944, 22.558422], [88.507, 22.558541]]]}, 'properties': {'vendor': 0, 'timestamps': [70.0, 170.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.507, 22.558541], [88.50567, 22.558813]]]}, 'properties': {'vendor': 0, 'timestamps': [80.0, 180.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.50567, 22.558813], [88.506096, 22.558808]]]}, 'properties': {'vendor': 0, 'timestamps': [90.0, 190.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.506096, 22.558808], [88.508118, 22.559027]]]}, 'properties': {'vendor': 0, 'timestamps': [100.0, 200.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.508118, 22.559027], [88.508646, 22.559386]]]}, 'properties': {'vendor': 0, 'timestamps': [110.0, 210.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.508646, 22.559386], [88.50878, 22.559725]]]}, 'properties': {'vendor': 0, 'timestamps': [120.0, 220.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.50878, 22.559725], [88.507251, 22.560235]]]}, 'properties': {'vendor': 0, 'timestamps': [130.0, 230.0]}}, {'type': 'Feature', 'geometry': {'type': 'MultiLineString', 'coordinates': [[[88.507251, 22.560235], [88.506999, 22.559849]]]}, 'properties': {'vendor': 0, 'timestamps': [140.0, 240.0]}}]}
 
 // TripsLayer needs data in the following format
      const layerData = geojsonData.features.map(f => ({
        vendor: f.properties.vendor,
        timestamps: f.properties.timestamps,
        path: f.geometry.coordinates[0]
      }));

      const deckgl = new deck.DeckGL({
        container: 'map',
        mapStyle: deck.carto.BASEMAP.DARK_MATTER,
        initialViewState: {
          //longitude: -74,
          longitude: 88.504871,
          //latitude: 40.81,
          latitude: 22.556859,
          zoom: 15,
          pitch: 45,
          bearing: 0
        },
        controller: true
      });

      let time = 0;

      function animate() {
        time = (time + ANIMATION_SPEED) % LOOP_LENGTH;
        window.requestAnimationFrame(animate);
      }

      setInterval(() => {
        deckgl.setProps({
          layers: [
            new deck.TripsLayer({
              id: 'trips-layer',
              data: layerData,
              getPath: d => d.path,
              getTimestamps: d => d.timestamps,
              //getColor: d => (d.vendor === 0 ? [253, 128, 93] : [23, 184, 190]),
			  //getColor: d => (d.vendor === 0 ? [0, 0, 255] : d.vendor === 1 ?[0, 0, 255]:d.vendor === 2?[0, 0, 255]:[0,0,0]),
			  getColor: d => (d.vendor === 0 ? [77,77,255] : d.vendor === 1 ?[77,77,255]:d.vendor === 2?[77,77,255]:[0,0,0]),
              opacity: 0.3,
              widthMinPixels: 2,
              rounded: true,
              trailLength: 180,
              currentTime: time,
              shadowEnabled: false
            })
          ]
        });
      }, 50);

      window.requestAnimationFrame(animate);
    }

    initialize();    
  </script>




{% endblock javascripts %}
